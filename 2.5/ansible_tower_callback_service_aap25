<%#
kind: snippet
name: ansible_tower_callback_service_aap25
model: ProvisioningTemplate
snippet: true
description: |
  Systemd service + timer for running AAP 2.5 provisioning callback one-time,
  based on the default Satellite snippet but with retries and logging.
-%>
[Unit]
Description=Provisioning callback to Ansible Automation Platform
Wants=network-online.target cloud-init.service
After=network-online.target cloud-init.service

[Service]
Type=oneshot
ExecStart=/usr/local/bin/aap-callback-wrapper.sh
RemainAfterExit=no

[Install]
WantedBy=multi-user.target
